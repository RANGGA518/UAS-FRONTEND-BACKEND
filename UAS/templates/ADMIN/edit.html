<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Admin | Edit Produk</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header bg-warning">
            <h5 class="mb-0">Edit Produk</h5>
        </div>
        <div class="card-body">

            <form method="POST" enctype="multipart/form-data">
                <input type="hidden" name="gambar_lama" value="{{ produk.gambar }}">

                <div class="mb-3">
                    <label class="form-label">Kode Barang</label>
                    <input type="text"
                           class="form-control"
                           value="{{ produk.kode_barang }}"
                           readonly>
                </div>

                <!-- NAMA BARANG -->
                <div class="mb-3">
                    <label class="form-label">Nama Barang</label>
                    <input type="text"
                           name="nama_barang"
                           class="form-control"
                           value="{{ produk.nama_barang }}"
                           required>
                </div>

                <!-- DESKRIPSI PRODUK -->
                <div class="mb-3">
                    <label class="form-label">Deskripsi Produk</label>
                    <textarea name="deskripsi" class="form-control" rows="4" required>{{ produk.deskripsi }}</textarea>
                </div>

                <!-- STOK -->
                <div class="mb-3">
                    <label class="form-label">Stok</label>
                    <input type="number"
                           name="stok"
                           class="form-control"
                           value="{{ produk.stok }}"
                           min="0"
                           required>
                </div>

                <!-- HARGA -->
                <div class="mb-3">
                    <label class="form-label">Harga</label>
                    <input type="number"
                           name="harga"
                           class="form-control"
                           value="{{ produk.harga }}"
                           min="0"
                           required>
                </div>

                <!-- GAMBAR LAMA -->
                <div class="mb-3">
                    <label class="form-label">Gambar Saat Ini</label><br>
                    {% if produk.gambar %}
                        <img src="{{ url_for('static', filename='img/' ~ produk.gambar) }}"
                             class="img-thumbnail mb-2"
                             width="150">
                    {% else %}
                        <p class="text-muted">Tidak ada gambar</p>
                    {% endif %}
                </div>

                <!-- UPLOAD GAMBAR BARU (OPSIONAL) -->
                <div class="mb-3">
                    <label class="form-label">Ganti Gambar (opsional)</label>
                    <input type="file" name="gambar" class="form-control">
                    <small class="text-muted">
                        Kosongkan jika tidak ingin mengganti gambar
                    </small>
                </div>

                <!-- ACTION -->
                <div class="d-flex justify-content-between">
                    <a href="/admin/kategori/{{ kategori_id }}" class="btn btn-secondary">
                        Kembali
                    </a>
                    <button type="submit" class="btn btn-success">
                        Update
                    </button>
                </div>

            </form>

        </div>
    </div>
</div>

</body>
</html>
